import{o as s,d as a,e,t as l,F as t,j as o,v as c,i,k as n,l as r,u as p,b as d,n as v,m as u,p as g}from"./vendor-BY3Sjsd2.js";import{l as y,g as m}from"./fileUtils-DWjd_h8b.js";import{_ as k}from"./index-iMe6HISH.js";import"./marked-OaSDovvN.js";const f={class:"blog-page page"},h={class:"container"},b={key:0,class:"state-container loading-state"},w={key:1,class:"state-container error-state"},C={class:"blog-header"},x={class:"blog-controls"},j={class:"search-and-sort"},_={class:"search-box"},A={class:"sort-control"},D={class:"category-filter"},L=["onClick"],z={key:0,class:"post-grid"},B=["onClick"],E={key:0,class:"card-cover"},U=["src","alt"],F={class:"post-meta-overlay"},I={key:0,class:"post-top"},M={key:1,class:"post-original"},S={key:2,class:"post-repost"},V={class:"post-card-content"},$={key:0,class:"post-meta-top"},q={key:0,class:"post-top"},G={key:1,class:"post-original"},H={key:2,class:"post-repost"},J={class:"post-title"},K={class:"post-excerpt"},N={class:"post-card-footer"},O={class:"post-date"},P={key:1,class:"state-container empty-state"},Q=k({__name:"Blog",setup(k){const Q=p(),R=n([]),T=n(!1),W=n(""),X=n(""),Y=n("å…¨éƒ¨"),Z=n("desc"),ss=r(()=>{const s=new Set;R.value.forEach(a=>{os(a).forEach(a=>s.add(a))});return["å…¨éƒ¨",...s]}),as=r(()=>{let s=R.value;if("å…¨éƒ¨"!==Y.value&&(s=s.filter(s=>os(s).includes(Y.value))),X.value){const a=X.value.toLowerCase();s=s.filter(s=>{const e=os(s).map(s=>s.toLowerCase());return s.title.toLowerCase().includes(a)||e.some(s=>s.includes(a))})}return s.sort((s,a)=>{const e="1"===s.top?1:0,l="1"===a.top?1:0;if(e!==l)return l-e;const t=new Date(s.date),o=new Date(a.date);return"desc"===Z.value?o-t:t-o})}),es=async()=>{T.value=!0,W.value="";try{R.value=await y()}catch(s){W.value="æ— æ³•åŠ è½½æ–‡ç« åˆ—è¡¨"}finally{T.value=!1}},ls=()=>{es()},ts=s=>s.excerpt||m(s),os=s=>s.tag?Array.isArray(s.tag)?s.tag:[s.tag]:[],cs=s=>"1"===s.original;return s(()=>{es()}),(s,n)=>(d(),a("div",f,[n[11]||(n[11]=e("div",{class:"background-effects"},[e("div",{class:"gradient-overlay"})],-1)),e("main",h,[T.value?(d(),a("div",b,[...n[2]||(n[2]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"åŠ è½½ä¸­...",-1)])])):W.value?(d(),a("div",w,[n[3]||(n[3]=e("div",{class:"error-icon"},"âŒ",-1)),n[4]||(n[4]=e("h3",null,"å‡ºé”™äº†",-1)),e("p",null,l(W.value),1),e("button",{class:"btn btn-primary",onClick:ls},"é‡è¯•")])):(d(),a(t,{key:2},[e("header",C,[n[6]||(n[6]=e("h1",{class:"page-title"},[e("span",{class:"title-main"},"åšå®¢ & è®°å½•")],-1)),n[7]||(n[7]=e("p",{class:"page-subtitle"},"åˆ†äº«æŠ€æœ¯è§è§£ä¸ç”Ÿæ´»æ„Ÿæ‚Ÿ",-1)),e("div",x,[e("div",j,[e("div",_,[n[5]||(n[5]=e("span",{class:"search-icon"},[e("svg",{t:"1770027928484",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"38431",width:"25",height:"25"},[e("path",{d:"M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0","p-id":"38432",fill:"#ffffff"})])],-1)),o(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>X.value=s),type:"text",placeholder:"æœç´¢æ–‡ç« ...",class:"search-input"},null,512),[[c,X.value]])]),e("div",A,[e("button",{class:"sort-btn",onClick:n[1]||(n[1]=s=>Z.value="desc"===Z.value?"asc":"desc")},l("desc"===Z.value?"æœ€æ–°ä¼˜å…ˆ":"æœ€æ—©ä¼˜å…ˆ"),1)])]),e("div",D,[(d(!0),a(t,null,i(ss.value,s=>(d(),a("button",{key:s,class:v(["category-btn",{active:Y.value===s}]),onClick:a=>Y.value=s},l(s),11,L))),128))])])]),as.value.length>0?(d(),a("div",z,[(d(!0),a(t,null,i(as.value,(s,o)=>(d(),a("article",{key:s.file,class:v(["post-card",{"has-cover":s.image}]),style:u({animationDelay:.05*o+"s"}),onClick:a=>(s=>{Q.push(`/blog/${s.file}`)})(s)},[s.image?(d(),a("div",E,[e("img",{src:s.image,alt:s.title,class:"cover-image"},null,8,U),n[8]||(n[8]=e("div",{class:"cover-overlay"},null,-1)),e("div",F,["1"===s.top?(d(),a("span",I,"ç½®é¡¶")):g("",!0),s.original&&cs(s)?(d(),a("span",M,"åŸåˆ›")):s.original?(d(),a("span",S,"è½¬è½½")):g("",!0),(d(!0),a(t,null,i(os(s),s=>(d(),a("span",{key:s,class:"post-category"},l(s),1))),128))])])):g("",!0),e("div",V,[s.image?g("",!0):(d(),a("div",$,["1"===s.top?(d(),a("span",q,"ç½®é¡¶")):g("",!0),s.original&&cs(s)?(d(),a("span",G,"åŸåˆ›")):s.original?(d(),a("span",H,"è½¬è½½")):g("",!0),(d(!0),a(t,null,i(os(s),s=>(d(),a("span",{key:s,class:"post-category"},l(s),1))),128))])),e("h2",J,l(s.title),1),e("p",K,l(ts(s)),1),e("div",N,[e("span",O,l(s.date),1),n[9]||(n[9]=e("span",{class:"read-more"},"é˜…è¯»å…¨æ–‡ â†’",-1))])])],14,B))),128))])):(d(),a("div",P,[...n[10]||(n[10]=[e("div",{class:"empty-icon"},"ğŸ“­",-1),e("h3",null,"æ²¡æœ‰æ‰¾åˆ°æ–‡ç« ",-1),e("p",null,"æ¢ä¸ªå…³é”®è¯è¯•è¯•ï¼Ÿ",-1)])]))],64))])]))}},[["__scopeId","data-v-58049057"]]);export{Q as default};
